<!DOCTYPE html>
<html>
<title>Jing Webpage</title>

<!-- Style -->
<head>
<meta charset="utf-8" />
<meta name="viewport"  content="width=device-width, initial-scale=1, user-scalable=no" />
<link rel="stylesheet" href="assets/css/main.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"/>
<link rel='stylesheet' href='https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css' />
</head>



<body class="homepage is-preload">
<!-- photo section -->
<div id="page-wrapper">

<section id="header">

      <h1><a href="https://github.com/jojojoe-star"style="color: black" >Jing (Bess) Lyu</a></h1>

</section>

    <section id="main">

      <div class="container"> </div>
        <div class="coloum">
          <div class="col-12">

  <section id="banner">

  </section>

  </section>

<!-- work section -->
    <section id="main">
              <div class="container">
                <div class="row">
                  <div class="col-12">


              <header class="major">
                <h2> WORK </h2>
              </header>

              <div class="container">
<div class="row">
<div class="col">


                  <section class="box">
                    <a href="https://en.uncyclopedia.co/wiki/Main_Page" class="image featured"><img src="https://upload.wikimedia.org/wikipedia/commons/thumb/9/92/Uncyclopedia_logo_notext.svg/1920px-Uncyclopedia_logo_notext.svg.png" alt="" /></a>


                      <h3><a href="https://github.com/jojojoe-star/python-crawler" style="color: black"> Uncyclopedia Crawler </a></h3>

                    <p>A simple python web crawler go over Uncyclopedia website

it starts with a random page of uncyclopedia, stores the first link found in the article and print the link,

until

it reaches the Philosophy page or

it went over 25 pages or

it reaches a page without any link. </p>


                  </section>
                </div>

               <div class="col">
                  <section class="box">
                    <a href="https://blog.hubspot.com/marketing/web-design-html-css-javascript#:~:text=HTML%2C%20CSS%2C%20%26%20JavaScript%3A,the%20behavior%20of%20different%20elements." class="image featured"><img src="https://www.alura.com.br/artigos/assets/html-css-js/imagem-4.png" alt="" /></a>


                    <h3><a href="https://github.com/jojojoe-star/internet-programming" style="color: black"> Personal Webpage </a></h3>


                    <p> A simple Webpage built from scrath. Language used: HTML, CSS, Javascript. Tools used: Bootstrap, GCP Firebase, Postman.
                      Highlight: Create the RESTful server-side APIs and client code for user feedback.
                  </section>
</div>
</div>
<br><br>
</div>

<!-- contact section -->

<header class="major">
 <h2>CONTACT</h2>
</header>


<div class="container">
<div class="jumbotron">

<input type=text id ="userhandle" placeholder="Enter Name" ></input>

<input id="text" type="text2" placeholder="Enter Feedback" onkeydown="checknum()" onkeyup="checknum()" ></input>
<div><br></div>



<button onClick="addComment()"> Post </button>
<button type="button" onClick="getComments()"> Get Feedback </button>

<div><br></div>



<div id="box"></div>
<div><br></div>
</div>
</div>

</div>
</div>

<!-- js code for the comment box function -->
<script>
var allComments = [];

function  addComment(){
var ahandle = document.getElementById("userhandle").value;
var acomment = document.getElementById("text").value;

if(ahandle == "" || acomment == ""){
  alert("Please enter name/feedback")
}
else {

  var thiscomment = {
    handle: ahandle,
    comment: acomment,
  };

  allComments.push(thiscomment);

  var sHTML = "";
  for (var i = 0; i < allComments.length; i++) {
    sHTML += "Name: " + allComments[i].handle + "<br>";
    sHTML += "Feedback: " + allComments[i].comment + "<br>";

      }

      document.getElementById("box").innerHTML = sHTML;}


      // POST comments
          var xhr = new XMLHttpRequest();
          xhr.open('POST', 'https://us-central1-assignment4-3ef19.cloudfunctions.net/postcomments');

          xhr.setRequestHeader("Content-type", "application/json");
          // Track the state changes of the request.
          xhr.onreadystatechange = function () {
              var DONE = 4; // readyState 4 means the request is done.
              var OK = 200; // status 200 is a successful return.
              if (xhr.readyState === DONE) {
                  if (xhr.status === OK) {
                      getComments(); // 'Call get comments to retrieve the latest'
                  } else {
                      console.log('Error: ' + xhr.status); // An error occurred during the request.
                  }
              }
          };

          xhr.send(JSON.stringify(
        {"handle": document.getElementById("userhandle").value, "comment": 	document.getElementById("text").value}
      ));

      document.getElementById("userhandle").value="";
      document.getElementById("text").value="";
  }

  //checknum
      function checknum(){
          var nMax = 280;
          var textDom = document.getElementById("text");
          var len =textDom.value.length;
          if(len>nMax){
              textDom.value = textDom.value.substring(0,nMax);
              return;
          }
          document.getElementById("usercomment").value=(nMax-len)+" characters left";
      }
      checknum();




//GET comments
function getComments()
{
var xhr = new XMLHttpRequest();
xhr.open('GET', 'https://us-central1-assignment4-3ef19.cloudfunctions.net/getcomments');

// Track the state changes of the request.
xhr.onreadystatechange = function () {
  var DONE = 4; // readyState 4 means the request is done.
  var OK = 200; // status 200 is a successful return.
  if (xhr.readyState === DONE) {
    if (xhr.status === OK) {
      var sHTML = "";
      var data = JSON.parse(xhr.responseText);
      for(var i=0; i<data.length; i++)
      {
        sHTML += "<p> Name: " + data[i].handle + "</p>";
        sHTML += "<p> Feedback: " + data[i].comment + "</p>";
        box.innerHTML = sHTML;
      }
    } else {
      console.log('Error: ' + xhr.status); // An error occurred during the request.
    }}};

xhr.send(null);
}
</script>


<style>
input[type=text], select {
width: 100%;
padding: 10px 20px;
margin: 8px 0;
display: inline-block;
border: 1px solid #ccc;
border-radius: 4px;
box-sizing: border-box;
}
input[type=text2], select {
width: 100%;
padding: 40px 20px;
margin: 8px 0;
display: inline-block;
border: 1px solid #ccc;
border-radius: 4px;
box-sizing: border-box;
}
</style>



</div>
</div>

</body>




  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Welcome to Firebase Hosting</title>

    <!-- update the version number as needed -->
    <script defer src="/__/firebase/8.7.0/firebase-app.js"></script>
    <!-- include only the Firebase features as you need -->
    <script defer src="/__/firebase/8.7.0/firebase-auth.js"></script>
    <script defer src="/__/firebase/8.7.0/firebase-database.js"></script>
    <script defer src="/__/firebase/8.7.0/firebase-firestore.js"></script>
    <script defer src="/__/firebase/8.7.0/firebase-functions.js"></script>
    <script defer src="/__/firebase/8.7.0/firebase-messaging.js"></script>
    <script defer src="/__/firebase/8.7.0/firebase-storage.js"></script>
    <script defer src="/__/firebase/8.7.0/firebase-analytics.js"></script>
    <script defer src="/__/firebase/8.7.0/firebase-remote-config.js"></script>
    <script defer src="/__/firebase/8.7.0/firebase-performance.js"></script>
    <!--
      initialize the SDK after all desired features are loaded, set useEmulator to false
      to avoid connecting the SDK to running emulators.
    -->
    <script defer src="/__/firebase/init.js?useEmulator=true"></script>

    <style media="screen">
      body { background: #ECEFF1; color: rgba(0,0,0,0.87); font-family: Roboto, Helvetica, Arial, sans-serif; margin: 0; padding: 0; }
      #message { background: white; max-width: 360px; margin: 100px auto 16px; padding: 32px 24px; border-radius: 3px; }
      #message h2 { color: #ffa100; font-weight: bold; font-size: 16px; margin: 0 0 8px; }
      #message h1 { font-size: 22px; font-weight: 300; color: rgba(0,0,0,0.6); margin: 0 0 16px;}
      #message p { line-height: 140%; margin: 16px 0 24px; font-size: 14px; }
      #message a { display: block; text-align: center; background: #039be5; text-transform: uppercase; text-decoration: none; color: white; padding: 16px; border-radius: 4px; }
      #message, #message a { box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24); }
      #load { color: rgba(0,0,0,0.4); text-align: center; font-size: 13px; }
      @media (max-width: 600px) {
        body, #message { margin-top: 0; background: white; box-shadow: none; }
        body { border-top: 16px solid #ffa100; }
      }
    </style>
  </head>
  <body>
    <div id="message">
      <h2>Welcome</h2>
      <h1>Firebase Hosting Setup Complete</h1>
      <p>You're seeing this because you've successfully setup Firebase Hosting. Now it's time to go build something extraordinary!</p>
      <a target="_blank" href="https://firebase.google.com/docs/hosting/">Open Hosting Documentation</a>
    </div>
    <p id="load">Firebase SDK Loading&hellip;</p>

    <script>
      document.addEventListener('DOMContentLoaded', function() {
        const loadEl = document.querySelector('#load');
        // // ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥
        // // The Firebase SDK is initialized and available here!
        //
        // firebase.auth().onAuthStateChanged(user => { });
        // firebase.database().ref('/path/to/ref').on('value', snapshot => { });
        // firebase.firestore().doc('/foo/bar').get().then(() => { });
        // firebase.functions().httpsCallable('yourFunction')().then(() => { });
        // firebase.messaging().requestPermission().then(() => { });
        // firebase.storage().ref('/path/to/ref').getDownloadURL().then(() => { });
        // firebase.analytics(); // call to activate
        // firebase.analytics().logEvent('tutorial_completed');
        // firebase.performance(); // call to activate
        //
        // // ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥

        try {
          let app = firebase.app();
          let features = [
            'auth',
            'database',
            'firestore',
            'functions',
            'messaging',
            'storage',
            'analytics',
            'remoteConfig',
            'performance',
          ].filter(feature => typeof app[feature] === 'function');
          loadEl.textContent = `Firebase SDK loaded with ${features.join(', ')}`;
        } catch (e) {
          console.error(e);
          loadEl.textContent = 'Error loading the Firebase SDK, check the console.';
        }
      });
    </script>
  </body>
</html>
